{% extends "two_factor/_base.html" %}
{% load i18n %}
{% load two_factor %}

{% block content %}
<div class="text-center mb-4">
    <div style="width: 80px; height: 80px; background: rgba(16, 185, 129, 0.1); border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; margin-bottom: 1rem;">
        <i class="fas fa-shield-check fa-3x text-success"></i>
    </div>
    <h2 class="h3 fw-bold">Hesap Güvenliği</h2>
    <p class="text-muted">İki adımlı doğrulama (2FA) durumunuzu yönetin.</p>
</div>

<div class="card bg-dark border-secondary mb-3">
    <div class="card-body d-flex align-items-center justify-content-between">
        <div>
            <h5 class="card-title mb-1 text-white">Google Authenticator</h5>
            <span class="badge bg-success-subtle text-success border border-success-subtle">
                <i class="fas fa-check-circle me-1"></i> Aktif
            </span>
        </div>
        <div>
            <form method="post" action="{% url 'two_factor:disable' %}" onsubmit="return confirm('2FA korumasını devre dışı bırakmak istediğinize emin misiniz?');">
                {% csrf_token %}
                <button type="submit" class="btn btn-outline-danger btn-sm">
                    <i class="fas fa-trash-alt me-1"></i> Devre Dışı Bırak
                </button>
            </form>
        </div>
    </div>
</div>

<div class="card bg-dark border-secondary mb-4">
    <div class="card-body">
        <h5 class="card-title text-white mb-3"><i class="fas fa-key me-2 text-warning"></i> Yedek Kodlar</h5>
        <p class="small text-muted mb-3">
            Telefonunuza erişemediğiniz durumlarda hesabınıza girmek için bu kodları kullanabilirsiniz.
            Bu kodları güvenli bir yerde saklayın.
        </p>
        <a href="{% url 'two_factor:backup_tokens' %}" class="btn btn-warning w-100">
            <i class="fas fa-eye me-2"></i> Yedek Kodları Görüntüle / Yenile
        </a>
    </div>
</div>

<div class="d-grid gap-2">
    <a href="/web/dealer-dashboard/" class="btn btn-primary btn-lg">
        <i class="fas fa-home me-2"></i> Dashboard'a Dön
    </a>
</div>
{% endblock %}
